<p-dialog header="History" [(visible)]="visible" [draggable]="false" [blockScroll]="true" [modal]="true"
    (onHide)="closeHistory()" (onClose)="closeHistory()" (onShow)="viewHistory()" [style]="{width: '1200px'}">

    <form class="form-table">
        <div class="form-row grid">
            <div class="form-col md:col-4 sm:col-12 col-12">
                <div class="form-row grid">
                    <div class="form-col col-fixed">
                        <div class="form-label">
                            <label class="txt">Item</label>
                        </div>
                    </div>
                    <div class="form-col col">
                        <div class="form-input">
                            <label class="txt">{{licenseHistoryRsp.productCode}}</label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-col md:col-4 sm:col-12 col-12">
                <div class="form-row grid">
                    <div class="form-col col-fixed">
                        <div class="form-label">
                            <label class="txt">License</label>
                        </div>
                    </div>
                    <div class="form-col col">
                        <div class="form-input">
                            <label class="txt">{{licenseHistoryRsp.licenseNo}}</label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-col md:col-4 sm:col-12 col-12">
                <div class="form-row grid">
                    <div class="form-col col-fixed">
                        <div class="form-label">
                            <label class="txt">Balance Qty</label>
                        </div>
                    </div>
                    <div class="form-col col">
                        <div class="form-input">
                            <label class="txt">{{licenseHistoryRsp.balanceQuantity}}</label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <br>

        <!--# TK-35854 -->
        <p-table #history class="table-panel" [value]="licenseHistoryRsp.licenseHistories"
            [columns]="selectedColsHistory" [scrollable]="true" scrollHeight="500px" [paginator]="true" [rows]="10"
            paginatorPosition="bottom" [rowsPerPageOptions]="[10,20]" dataKey="id">
            <ng-template pTemplate="header">
                <tr>
                    <th *ngFor="let col of selectedColsHistory" [pSortableColumn]="col.field" [ngClass]="{
                    'icon-col': (col.field == 'checkbox')
                  }" scope="col">
                        <ng-container *ngIf="col.field != 'checkbox'">
                            {{col.header}}
                            <p-sortIcon [field]="col.field"></p-sortIcon>
                        </ng-container>
                    </th>
                </tr>
            </ng-template>

            <ng-template pTemplate="body" let-history>
                <tr>
                    <td *ngFor="let col of selectedColsHistory" [ngClass]="{
                    'icon-col': (col.field == 'checkbox')
                  }">
                        <ng-container *ngIf="col.field != 'checkbox'">
                            <!-- <p>{{getItemEccnRsp.areaEccn[col.field]}}</p> -->
                            <p>{{history[col.field]}}</p>
                        </ng-container>
                    </td>
                </tr>
            </ng-template>
        </p-table>


    </form>
</p-dialog>
